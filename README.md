<h3>Проект: Игра «Повтори последовательность»</h3>

<h4>Есть главное меню:</h4>

<ul>
<li><strong>Новая игра</strong> - проигрывается 1 случайный звук, всего их 4, его надо повторить. Если повторил все правильно, то к предыдущей последовательности звуков добавляется еще один. Так продолжается пока не ошибся, и игра заканчивается, показывается текущий и лучший результат.</li>
<li><strong>Свободный режим</strong> - просто кнопки со звуками, без игры.</li>
<li><strong>Настройки</strong> - можно выбрать включен звук или нет, режим без подсветки кнопок во время прослушивания загаданной звуковой последовательности, ползунок задержки между звуками загаданной звуковой последовательности, и тема звуков (на выбор 3 разных набора).</li>
<li><strong>Страница с информацией об игре и авторе</strong>, там описаны правила игры, также можно посмотреть лучший результат.</li>
</ul>

<h4>О коде:</h4>
<ul>
<li>Для навигации между страницами используется <strong>navigation component</strong>.</li>
<li><strong>nav_graph.xml</strong> содержит четыре фрагмента: MenuFragment, GameFragment, AboutFragment и SettingsFragment.</li>
<li><strong>MenuFragment</strong> является стартовым фрагментом (startDestination) и содержит действия для перехода к GameFragment, AboutFragment и SettingsFragment. Каждое действие имеет свой уникальный идентификатор и указывает на соответствующий фрагмент назначения.</li>
<li><strong>activity_main.xml</strong> содержит всего один FrameLayout, внутри которого размещен NavHostFragment. NavHostFragment используется для отображения фрагментов, связанных с навигацией внутри приложения. NavHostFragment настроен как defaultNavHost, что означает, что он будет обрабатывать системные кнопки "назад" и другие элементы навигации. Также указано, что для навигации будет использоваться nav_graph.</li>
<li><strong>fragment_game.xml</strong> содержит разметку для игрового фрагмента. Внутри FrameLayout есть GridLayout, который содержит кнопки для игры (btn_one, btn_two, btn_three, btn_four) и кнопку для перехода к следующему ходу (btn_start_game). Каждая кнопка имеет свой стиль, цвет фона и текст, а также указан метод обработчика нажатия кнопки. Кнопка btn_start_game также имеет метод обработчика для перехода к следующему ходу. Под GridLayout находится LinearLayout с TextView для отображения текущего уровня игры (LevelKey и LevelValue) и лучшего результата (BestResultKey и BestResultValue). Эти элементы помогают отслеживать прогресс игры и лучший результат.</li>
<li><strong>fragment_menu.xml</strong> содержит разметку для меню фрагмента. Внутри FrameLayout есть GridLayout, который содержит кнопки для различных действий: начать новую игру (btn_new_game), перейти в свободный режим (btn_free_mode), открыть настройки (btn_settings) и просмотреть информацию об игре и авторе (btn_about). Каждая кнопка имеет свой стиль, цвет фона и текст. Каждая кнопка также имеет уникальный идентификатор, который можно использовать для обработки нажатий кнопок в коде фрагмента.</li>
<li><strong>fragment_settings.xml</strong> содержит разметку для фрагмента настроек. Внутри FrameLayout есть GridLayout, который содержит различные элементы для настройки приложения. Первый LinearLayout содержит текстовое поле и переключатель (ToggleButton) для управления звуком в приложении. Второй LinearLayout содержит текстовое поле и переключатель для включения режима сложной игры (hard mode). Третий LinearLayout содержит текстовое поле и ползунок (SeekBar) для настройки задержки между звуками в игре. Четвертый LinearLayout содержит текстовое поле и выпадающий список (Spinner) для выбора темы звуков. Каждый элемент имеет свой стиль и уникальный идентификатор, который можно использовать для обработки изменений настроек в коде фрагмента.</li>

<li>
Класс <strong>MainActivity</strong> в файле MainActivity.kt является главной активностью приложения. Он реализует интерфейс GameButtonsHandlers, который содержит методы для обработки нажатий кнопок в игре.
В методе onCreate устанавливается макет activity_main.xml, инициализируется NavController для управления навигацией и настраивается ActionBar с использованием NavController.
Метод onSupportNavigateUp перехватывает нажатие кнопки "назад" на ActionBar и обрабатывает навигацию назад с помощью NavController.
Метод getGameFragmentForFuncCall находит экземпляр GameFragment для вызова соответствующих методов обработчиков кнопок.
Методы btnClickHandler и nextTurn делегируют обработку нажатий кнопок соответствующим методам в GameFragment.
</li>

<li>
Класс <strong>MenuFragment</strong> в файле MenuFragment.kt представляет фрагмент меню приложения. В методе onCreateView происходит настройка внешнего вида фрагмента и обработка нажатий кнопок меню.
При создании представления фрагмента (onCreateView) устанавливается макет fragment_menu.xml.
Для каждой кнопки меню (btn_new_game, btn_free_mode, btn_settings, btn_about) устанавливаются слушатели нажатий.
При нажатии на кнопку "Новая игра" (btn_new_game) создается действие для перехода к GameFragment с передачей режима "default_mode".
При нажатии на кнопку "Свободный режим" (btn_free_mode) создается действие для перехода к GameFragment с передачей режима "free_mode".
При нажатии на кнопку "Настройки" (btn_settings) происходит навигация к SettingsFragment.
При нажатии на кнопку "Об игре" (btn_about) происходит навигация к AboutFragment.
Этот код позволяет MenuFragment обрабатывать нажатия кнопок меню и осуществлять навигацию между фрагментами приложения в зависимости от выбора пользователя.
</li>

<li>
Класс <strong>GameFragmentArgs</strong> представляет аргументы, которые могут быть переданы в GameFragment при навигации. Этот класс содержит информацию о режиме игры (gameMode) и реализует интерфейс NavArgs для передачи аргументов между фрагментами.
Конструктор класса принимает режим игры (gameMode) и создает объект GameFragmentArgs.
Метод toBundle() преобразует аргументы в Bundle для передачи между фрагментами.
Сопутствующий объект (companion object) содержит метод fromBundle(), который извлекает аргументы из Bundle и создает объект GameFragmentArgs на основе переданных данных.
Этот класс обеспечивает удобный способ передачи аргументов между фрагментами при навигации в приложении.
</li>

<li>
Класс <strong>SettingsFragment</strong> в файле SettingsFragment.kt представляет фрагмент настроек приложения. В этом классе реализована логика для управления различными настройками, такими как звук, режим сложности, задержка между звуками и выбор темы звуков.
В методе onCreateView происходит настройка внешнего вида фрагмента и инициализация элементов интерфейса (ToggleButton, SeekBar, Spinner) для управления настройками.
Для каждого элемента устанавливаются слушатели для обработки изменений настроек.
Методы delayAmountSeekBar и initSoundThemeSpinner отвечают за настройку SeekBar и Spinner соответственно.
Метод saveToSharedPreferences сохраняет текущие настройки в SharedPreferences.
Методы roundToNearestHundred и loadOnSharedPreferences используются для округления числа и загрузки настроек из SharedPreferences соответственно.
При загрузке фрагмента происходит загрузка сохраненных настроек из SharedPreferences и установка соответствующих значений в элементы интерфейса.
Этот класс обеспечивает удобное управление настройками приложения и сохранение выбранных пользователем параметров для последующего использования.

<li>
Класс <strong>AboutFragment</strong> в файле AboutFragment.kt представляет фрагмент с информацией об игре и авторе. В этом классе реализована логика для отображения текста, изображения и лучшего результата игры.
В методе onCreateView происходит настройка внешнего вида фрагмента и инициализация элементов интерфейса.
Для TextView с ссылкой на GitHub устанавливается LinkMovementMethod для обработки нажатий на ссылку.
Изображение для ImageView устанавливается с помощью метода setImageResource, указывая ресурс изображения.
Лучший результат игры (bestResult) из GameFragment отображается в TextView BestResultValue.
Этот класс обеспечивает отображение информации об игре и авторе, а также позволяет пользователям увидеть лучший результат игры.
</li>

<li>
Код для <strong>GameFragment</strong> содержит основную логику игры, включая инициализацию элементов интерфейса, обработку нажатий кнопок, управление уровнями игры, воспроизведение звуков, сохранение результатов, функции для обновления лучшего результата игры, сброса текущего уровня, воспроизведения звуков, отображения диалогового окна с результатами и другие функции, связанные с игровой логикой.
Основные моменты в коде:
Инициализация элементов интерфейса, настройка настроек и режима игры в методе onCreateView.
Инициализация кнопок, звуков и ритмов в методах initButtons и initRhythms.
Блокировка кнопок во время воспроизведения звуков и их разблокировка после заданного времени в методах blockSoundButtons и unblockSoundButtonsAfterTime.
Отображение сообщений пользователю с помощью метода showMsg и очистка результатов игры в методе cleanGameResults.
Обработка нажатий кнопок и логика игры в методе btnClickHandler, включая проверку правильности нажатия, переход на следующий уровень и завершение игры в методе endGame.
Функция addCurrentGameResult сохраняет текущий результат игры в SharedPreferences.
Функция getBestGameResult возвращает лучший результат игры из SharedPreferences.
Функции resetCurrentLevelState, updateBestGameResultText и updateLevelText обновляют текущий уровень, лучший результат и текст уровня соответственно.
Функция backToMenu осуществляет переход обратно в меню приложения.
Функция showResultDialog отображает диалоговое окно с результатами игры и предлагает пользователю возможность перезапустить игру или вернуться в меню.
Функции playSound и playSoundAsync отвечают за воспроизведение звуков при нажатии кнопок и во время игры.
В методе playSound используется MediaPlayer для воспроизведения звуков в зависимости от выбранной темы.
Функция playSoundAsync воспроизводит звуки асинхронно с заданными задержками между ними.
Этот код содержит основную логику игры, включая управление уровнями, воспроизведение звуков, обработку нажатий кнопок, отображение результатов игры, функции для управления звуками, обновления результатов игры, отображения диалоговых окон и другие функции, необходимые для игровой логики.
</li>
</ul>

Попробуй запустить мое приложение онлайн:
https://appetize.io/app/rtuacmrh3hguvwazbgpxmh3zju?audio=true&device=nexus5&osVersion=8.1